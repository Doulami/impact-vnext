# cache-edge\n\n**Purpose**: Cloudflare surrogate key purge hooks for smart cache invalidation.\n\n**Status**: Placeholder (M6 will implement)\n\n## Usage (API)\n\n```typescript\nimport { CacheEdgePlugin } from '@impact/cache-edge';\n\n// In Vendure config:\nplugins: [\n  new CacheEdgePlugin({\n    zoneId: process.env.CLOUDFLARE_ZONE_ID,\n    apiToken: process.env.CLOUDFLARE_API_TOKEN,\n  }),\n]\n```\n\n## Features\n\n- Listen to product/inventory/price changes\n- Generate surrogate keys: `product-${id}`, `collection-${id}`, etc.\n- Call Cloudflare Purge API with surrogate key pattern\n- Log purge events\n\n## Kill Switch\n\nGate with `cache.edgeEnabled` flag:\n- If false: no surrogate key purges; standard Cache-Control TTL only\n\n## See Also\n\n- docs/specs/perf-and-pwa.md – Caching strategy\n- docs/runbooks/ops.md – Cache purge steps\n"