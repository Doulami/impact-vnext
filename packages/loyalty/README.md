# loyalty\n\n**Purpose**: Loyalty earn/burn points system for customers.\n\n**Status**: Placeholder (M5 will implement)\n\n## Usage (API)\n\n```typescript\nimport { LoyaltyPlugin } from '@impact/loyalty';\n\n// In Vendure config:\nplugins: [\n  new LoyaltyPlugin({\n    earnRate: 1, // 1% of net order = points\n    burnConversion: 100, // 100 points = $1\n    maxRedeemPercent: 50, // max 50% of order\n  }),\n]\n```\n\n## GraphQL (Shop API)\n\n```graphql\nquery {\n  me {\n    customer {\n      loyalty {\n        balance\n        tier\n      }\n      loyaltyLedger(first: 20) {\n        edges {\n          node {\n            transactionType\n            pointsDelta\n            newBalance\n            reason\n            createdAt\n          }\n        }\n      }\n    }\n  }\n}\n\nmutation {\n  redeemLoyaltyPoints(orderId: \"...\", points: 1000) {\n    order { id total discounts { amount } }\n    customer { loyalty { balance } }\n  }\n}\n```\n\n## Kill Switch\n\nGate with `loyalty` flag:\n- If false: no earn/burn; no loyalty UI shown\n- No code changes needed; toggle in Strapi StoreConfig\n\n## See Also\n\n- docs/specs/loyalty.md – Full specification\n- docs/runbooks/qa-checklist.md – Testing matrix\n"